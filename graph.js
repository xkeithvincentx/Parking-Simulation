const zones = [
    {
        "day": "Monday",
        "data": [
            {
              "type": "motor",
              "name": "San Augustine",
              "slots": [
                {
                  "id": 1,
                  "arrivalTime": "06:59 AM",
                  "departureTime": "10:02 AM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:01 AM",
                  "departureTime": "12:58 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Augustine"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:38 AM",
                  "departureTime": "01:05 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Augustine"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:44 AM",
                  "departureTime": "01:24 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Augustine"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:56 AM",
                  "departureTime": "01:33 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:26 AM",
                  "departureTime": "02:15 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:48 AM",
                  "departureTime": "02:11 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:52 AM",
                  "departureTime": "02:00 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:37 AM",
                  "departureTime": "03:24 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:27 AM",
                  "departureTime": "03:50 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:57 AM",
                  "departureTime": "04:36 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:27 AM",
                  "departureTime": "04:57 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:26 AM",
                  "departureTime": "04:01 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:44 AM",
                  "departureTime": "04:13 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:57 AM",
                  "departureTime": "04:44 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:22 AM",
                  "departureTime": "04:20 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:07 AM",
                  "departureTime": "04:26 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:23 AM",
                  "departureTime": "04:03 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:29 AM",
                  "departureTime": "04:40 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Augustine"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:56 AM",
                  "departureTime": "04:17 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 7,
                  "arrivalTime": "12:43 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 11,
                  "arrivalTime": "04:25 PM",
                  "departureTime": "09:24 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 12,
                  "arrivalTime": "05:06 PM",
                  "departureTime": "09:22 PM",
                  "preference": "Near to your office",
                  "location": "San Augustine"
                },
                {
                  "id": 13,
                  "arrivalTime": "06:03 PM",
                  "departureTime": "09:26 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                },
                {
                  "id": 14,
                  "arrivalTime": "07:23 PM",
                  "departureTime": "09:10 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Augustine"
                }
              ]
            },
            {
              "type": "motor",
              "name": "San Nicolas",
              "slots": [
                {
                  "id": 1,
                  "arrivalTime": "06:36 AM",
                  "departureTime": "11:11 AM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:32 AM",
                  "departureTime": "12:11 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:55 AM",
                  "departureTime": "01:08 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:16 AM",
                  "departureTime": "01:14 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:54 AM",
                  "departureTime": "01:16 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:37 AM",
                  "departureTime": "01:47 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:11 AM",
                  "departureTime": "02:26 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:41 AM",
                  "departureTime": "02:50 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:41 AM",
                  "departureTime": "02:50 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:02 AM",
                  "departureTime": "02:59 PM",
                  "preference": "Near to your room",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:17 AM",
                  "departureTime": "02:37 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:28 AM",
                  "departureTime": "02:48 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:18 AM",
                  "departureTime": "03:38 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:06 AM",
                  "departureTime": "03:57 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:21 AM",
                  "departureTime": "04:57 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:45 AM",
                  "departureTime": "04:05 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:21 AM",
                  "departureTime": "04:48 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:37 AM",
                  "departureTime": "04:33 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:53 AM",
                  "departureTime": "04:03 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 3,
                  "arrivalTime": "08:25 AM",
                  "departureTime": "05:52 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 3,
                  "arrivalTime": "08:07 AM",
                  "departureTime": "05:26 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 5,
                  "arrivalTime": "10:36 AM",
                  "departureTime": "07:30 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 8,
                  "arrivalTime": "01:25 PM",
                  "departureTime": "09:53 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 9,
                  "arrivalTime": "02:11 PM",
                  "departureTime": "09:02 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 12,
                  "arrivalTime": "05:35 PM",
                  "departureTime": "09:34 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 13,
                  "arrivalTime": "06:02 PM",
                  "departureTime": "09:00 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Nicolas"
                },
                {
                  "id": 14,
                  "arrivalTime": "07:53 PM",
                  "departureTime": "09:37 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                },
                {
                  "id": 14,
                  "arrivalTime": "07:01 PM",
                  "departureTime": "09:46 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Nicolas"
                }
              ]
            },
            {
              "type": "motor",
              "name": "Mount Carmel",
              "slots": [
                {
                  "id": 1,
                  "arrivalTime": "06:16 AM",
                  "departureTime": "10:10 AM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:40 AM",
                  "departureTime": "12:34 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:01 AM",
                  "departureTime": "01:06 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:52 AM",
                  "departureTime": "01:28 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:48 AM",
                  "departureTime": "01:32 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:27 AM",
                  "departureTime": "01:24 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:23 AM",
                  "departureTime": "02:45 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:06 AM",
                  "departureTime": "02:08 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:35 AM",
                  "departureTime": "02:24 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:01 AM",
                  "departureTime": "03:27 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:16 AM",
                  "departureTime": "04:00 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:00 AM",
                  "departureTime": "04:59 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:08 AM",
                  "departureTime": "04:03 PM",
                  "preference": "Near to your room",
                  "location": "Mount Carmel"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:26 AM",
                  "departureTime": "04:38 PM",
                  "preference": "Near to your office",
                  "location": "Mount Carmel"
                },
                {
                  "id": 6,
                  "arrivalTime": "11:56 AM",
                  "departureTime": "09:28 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                },
                {
                  "id": 10,
                  "arrivalTime": "03:01 PM",
                  "departureTime": "09:17 PM",
                  "preference": "Near to your office",
                  "location": "Mount Carmel"
                },
                {
                  "id": 11,
                  "arrivalTime": "04:29 PM",
                  "departureTime": "09:04 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Mount Carmel"
                }
              ]
            },
            {
              "type": "motor",
              "name": "San Jose",
              "slots": [
                {
                  "id": 1,
                  "arrivalTime": "06:38 AM",
                  "departureTime": "11:11 AM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:54 AM",
                  "departureTime": "12:05 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Jose"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:26 AM",
                  "departureTime": "02:50 PM",
                  "preference": "Near to your room",
                  "location": "San Jose"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:10 AM",
                  "departureTime": "03:17 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Jose"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:55 AM",
                  "departureTime": "03:19 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:24 AM",
                  "departureTime": "04:00 PM",
                  "preference": "Near to your room",
                  "location": "San Jose"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:15 AM",
                  "departureTime": "04:17 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Jose"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:43 AM",
                  "departureTime": "04:59 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:07 AM",
                  "departureTime": "04:32 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 3,
                  "arrivalTime": "08:06 AM",
                  "departureTime": "05:08 PM",
                  "preference": "Near to your room",
                  "location": "San Jose"
                },
                {
                  "id": 5,
                  "arrivalTime": "10:42 AM",
                  "departureTime": "07:11 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 6,
                  "arrivalTime": "11:24 AM",
                  "departureTime": "09:58 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 10,
                  "arrivalTime": "03:30 PM",
                  "departureTime": "09:11 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "San Jose"
                },
                {
                  "id": 11,
                  "arrivalTime": "04:52 PM",
                  "departureTime": "09:56 PM",
                  "preference": "Near to your room",
                  "location": "San Jose"
                },
                {
                  "id": 11,
                  "arrivalTime": "04:32 PM",
                  "departureTime": "09:55 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 11,
                  "arrivalTime": "04:12 PM",
                  "departureTime": "09:53 PM",
                  "preference": "Near to your room",
                  "location": "San Jose"
                },
                {
                  "id": 12,
                  "arrivalTime": "05:44 PM",
                  "departureTime": "09:25 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                },
                {
                  "id": 12,
                  "arrivalTime": "05:28 PM",
                  "departureTime": "09:57 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "San Jose"
                }
              ]
            },
            {
              "type": "motor",
              "name": "Ground",
              "slots": [
                {
                  "id": 1,
                  "arrivalTime": "06:21 AM",
                  "departureTime": "01:01 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Ground"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:45 AM",
                  "departureTime": "01:47 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Ground"
                },
                {
                  "id": 1,
                  "arrivalTime": "06:27 AM",
                  "departureTime": "02:36 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Ground"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:40 AM",
                  "departureTime": "04:47 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Ground"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:02 AM",
                  "departureTime": "04:55 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "Ground"
                },
                {
                  "id": 2,
                  "arrivalTime": "07:54 AM",
                  "departureTime": "04:19 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Ground"
                },
                {
                  "id": 10,
                  "arrivalTime": "03:40 PM",
                  "departureTime": "09:23 PM",
                  "preference": "It is the easiest angle when parking the vehicles",
                  "location": "Ground"
                },
                {
                  "id": 12,
                  "arrivalTime": "05:14 PM",
                  "departureTime": "09:38 PM",
                  "preference": "Covered from the shade of the sun",
                  "location": "Ground"
                },
                {
                  "id": 13,
                  "arrivalTime": "06:40 PM",
                  "departureTime": "09:15 PM",
                  "preference": "Near to your room",
                  "location": "Ground"
                }
              ]
            },
        
            {
                "type": "car",
                "name": "San Augustine",
                "slots": [
                  {
                    "id": 1,
                    "arrivalTime": "06:44 AM",
                    "departureTime": "10:44 AM",
                    "preference": "Near to your room",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:07 AM",
                    "departureTime": "11:55 AM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:47 AM",
                    "departureTime": "12:41 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:32 AM",
                    "departureTime": "12:32 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:14 AM",
                    "departureTime": "12:23 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:20 AM",
                    "departureTime": "01:04 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:20 AM",
                    "departureTime": "01:56 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:41 AM",
                    "departureTime": "02:49 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:43 AM",
                    "departureTime": "02:13 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:31 AM",
                    "departureTime": "02:41 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:50 AM",
                    "departureTime": "03:40 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Augustine"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:05 AM",
                    "departureTime": "04:03 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:38 AM",
                    "departureTime": "04:33 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:53 AM",
                    "departureTime": "04:22 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:28 AM",
                    "departureTime": "04:35 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:47 AM",
                    "departureTime": "04:43 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:24 AM",
                    "departureTime": "04:52 PM",
                    "preference": "Near to your room",
                    "location": "San Augustine"
                  },
                  {
                    "id": 3,
                    "arrivalTime": "08:44 AM",
                    "departureTime": "05:30 PM",
                    "preference": "Near to your room",
                    "location": "San Augustine"
                  },
                  {
                    "id": 5,
                    "arrivalTime": "10:33 AM",
                    "departureTime": "07:09 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 5,
                    "arrivalTime": "10:26 AM",
                    "departureTime": "07:35 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 7,
                    "arrivalTime": "12:45 PM",
                    "preference": "Near to your office",
                    "location": "San Augustine"
                  },
                  {
                    "id": 8,
                    "arrivalTime": "01:39 PM",
                    "departureTime": "09:20 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 11,
                    "arrivalTime": "04:10 PM",
                    "departureTime": "09:22 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Augustine"
                  },
                  {
                    "id": 11,
                    "arrivalTime": "04:01 PM",
                    "departureTime": "09:43 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Augustine"
                  },
                  {
                    "id": 12,
                    "arrivalTime": "05:57 PM",
                    "departureTime": "09:49 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Augustine"
                  },
                  {
                    "id": 12,
                    "arrivalTime": "05:22 PM",
                    "departureTime": "09:56 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 13,
                    "arrivalTime": "06:51 PM",
                    "departureTime": "09:10 PM",
                    "preference": "Near to your office",
                    "location": "San Augustine"
                  },
                  {
                    "id": 14,
                    "arrivalTime": "07:42 PM",
                    "departureTime": "09:56 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  },
                  {
                    "id": 14,
                    "arrivalTime": "07:24 PM",
                    "departureTime": "09:23 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Augustine"
                  }
                ]
              },
              {
                "type": "car",
                "name": "San Nicolas",
                "slots": [
                  {
                    "id": 1,
                    "arrivalTime": "06:42 AM",
                    "departureTime": "10:44 AM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:58 AM",
                    "departureTime": "01:20 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:44 AM",
                    "departureTime": "01:20 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:31 AM",
                    "departureTime": "01:26 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:36 AM",
                    "departureTime": "01:10 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:12 AM",
                    "departureTime": "01:46 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:34 AM",
                    "departureTime": "01:19 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:22 AM",
                    "departureTime": "02:32 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:44 AM",
                    "departureTime": "02:30 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:51 AM",
                    "departureTime": "02:33 PM",
                    "preference": "Near to your office",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:56 AM",
                    "departureTime": "02:32 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:04 AM",
                    "departureTime": "03:09 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:13 AM",
                    "departureTime": "04:21 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:44 AM",
                    "departureTime": "04:11 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:57 AM",
                    "departureTime": "04:59 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:43 AM",
                    "departureTime": "04:28 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:42 AM",
                    "departureTime": "04:06 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:24 AM",
                    "departureTime": "04:45 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:06 AM",
                    "departureTime": "04:50 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:04 AM",
                    "departureTime": "04:47 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:44 AM",
                    "departureTime": "04:15 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:10 AM",
                    "departureTime": "04:29 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:17 AM",
                    "departureTime": "04:58 PM",
                    "preference": "Near to your office",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 3,
                    "arrivalTime": "08:46 AM",
                    "departureTime": "05:10 PM",
                    "preference": "Near to your room",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 6,
                    "arrivalTime": "11:09 AM",
                    "departureTime": "09:17 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 11,
                    "arrivalTime": "04:23 PM",
                    "departureTime": "09:06 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  },
                  {
                    "id": 13,
                    "arrivalTime": "06:33 PM",
                    "departureTime": "09:19 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Nicolas"
                  }
                ]
              },
              {
                "type": "car",
                "name": "Mount Carmel",
                "slots": [
                  {
                    "id": 1,
                    "arrivalTime": "06:19 AM",
                    "departureTime": "01:32 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:19 AM",
                    "departureTime": "01:50 PM",
                    "preference": "Near to your room",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:22 AM",
                    "departureTime": "01:48 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:29 AM",
                    "departureTime": "02:48 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:30 AM",
                    "departureTime": "02:26 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:43 AM",
                    "departureTime": "02:16 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:02 AM",
                    "departureTime": "02:07 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:58 AM",
                    "departureTime": "03:54 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:12 AM",
                    "departureTime": "03:58 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:11 AM",
                    "departureTime": "03:33 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:33 AM",
                    "departureTime": "03:17 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:14 AM",
                    "departureTime": "04:31 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:18 AM",
                    "departureTime": "04:36 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:07 AM",
                    "departureTime": "04:39 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:20 AM",
                    "departureTime": "04:14 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:58 AM",
                    "departureTime": "04:25 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 3,
                    "arrivalTime": "08:09 AM",
                    "departureTime": "05:35 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 9,
                    "arrivalTime": "02:54 PM",
                    "departureTime": "09:31 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 10,
                    "arrivalTime": "03:58 PM",
                    "departureTime": "09:34 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 11,
                    "arrivalTime": "04:18 PM",
                    "departureTime": "09:06 PM",
                    "preference": "Near to your office",
                    "location": "Mount Carmel"
                  },
                  {
                    "id": 11,
                    "arrivalTime": "04:52 PM",
                    "departureTime": "09:28 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "Mount Carmel"
                  }
                ]
              },
              {
                "type": "car",
                "name": "San Jose",
                "slots": [
                  {
                    "id": 1,
                    "arrivalTime": "06:38 AM",
                    "departureTime": "12:18 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:50 AM",
                    "departureTime": "01:54 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:09 AM",
                    "departureTime": "02:30 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:45 AM",
                    "departureTime": "02:58 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:05 AM",
                    "departureTime": "03:46 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:24 AM",
                    "departureTime": "04:11 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Jose"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:27 AM",
                    "departureTime": "04:14 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 10,
                    "arrivalTime": "03:38 PM",
                    "departureTime": "09:20 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 10,
                    "arrivalTime": "03:16 PM",
                    "departureTime": "09:37 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "San Jose"
                  },
                  {
                    "id": 12,
                    "arrivalTime": "05:40 PM",
                    "departureTime": "09:38 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  },
                  {
                    "id": 14,
                    "arrivalTime": "07:40 PM",
                    "departureTime": "09:55 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "San Jose"
                  }
                ]
              },
              {
                "type": "car",
                "name": "Ground",
                "slots": [
                  {
                    "id": 1,
                    "arrivalTime": "06:45 AM",
                    "departureTime": "11:22 AM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Ground"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:31 AM",
                    "departureTime": "01:31 PM",
                    "preference": "Near to your room",
                    "location": "Ground"
                  },
                  {
                    "id": 1,
                    "arrivalTime": "06:11 AM",
                    "departureTime": "02:23 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Ground"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:18 AM",
                    "departureTime": "04:17 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Ground"
                  },
                  {
                    "id": 2,
                    "arrivalTime": "07:31 AM",
                    "departureTime": "04:06 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Ground"
                  },
                  {
                    "id": 6,
                    "arrivalTime": "11:06 AM",
                    "departureTime": "09:41 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Ground"
                  },
                  {
                    "id": 12,
                    "arrivalTime": "05:19 PM",
                    "departureTime": "09:03 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Ground"
                  },
                  {
                    "id": 12,
                    "arrivalTime": "05:30 PM",
                    "departureTime": "09:43 PM",
                    "preference": "Covered from the shade of the sun",
                    "location": "Ground"
                  },
                  {
                    "id": 13,
                    "arrivalTime": "06:57 PM",
                    "departureTime": "09:44 PM",
                    "preference": "It is the easiest angle when parking the vehicles",
                    "location": "Ground"
                  }
                ]
              }  
        ]
    }
    
];
  
  let result = zones.filter((zone) => zone.day === "Monday").flatMap((zone) => zone.data);
  
  class GenerateGraph { 
      constructor() { 
          this.data = zones; 
          this.chartInstance = null;
  
      } 
      setData(data) {
          this.data = data;
      }
  
      groupDataByHour(data) {
          let hourlyData = {};
          let totalParkedVehicles = 0;
  
          const specifiedHours = [6, 7, 8, 9, 10, 11, 12, 13];
          specifiedHours.forEach((hour) => {
              hourlyData[hour] = 0;
          });
  
          data.forEach((location) => {
              if (location.slots) {
                  location.slots.forEach((slot) => {
                  if (slot && slot.arrivalTime) {
                      const arrivalTimeParts = slot.arrivalTime.split(' ');
                      let hour = parseInt(arrivalTimeParts[0], 10);
                      const amPm = arrivalTimeParts[1];
  
                      // Convert 12 PM to 12 and 12 AM to 0
                      if (hour === 12 && amPm === 'PM') {
                          hour = 12;
                      } else if (hour === 12 && amPm === 'AM') {
                          hour = 0;
                      }
  
                      if (specifiedHours.includes(hour)) {
                          hourlyData[hour]++;
                          totalParkedVehicles++;
                      }
                  }
                  });
              }
          });
  
          const processedData = {
          labels: specifiedHours.map((hour) => `${hour <= 12 ? hour : hour - 12}:00 ${hour <= 12 ? 'AM' : 'PM'}`),
          dataPoints: specifiedHours.map((hour) => {
              const percentage = (hourlyData[hour] / totalParkedVehicles) * 100;
              return percentage.toFixed(2); // Round to 2 decimal places
          }),
          };
  
          return processedData;
      }
      
  
      createChart(data, id) {
          const ctx = document.getElementById('PS_'+id).getContext('2d');
          const chartData = {
              labels: Object.keys(data.preferenceCounts[0]),
              datasets: [],
          };
  
          const preferenceColors = [
              'rgba(152, 192, 12, 1)',
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(255, 120, 0, 1)',
          ];
  
          Object.values(data.preferenceCounts).forEach((counts, index) => {
              chartData.datasets.push({
              label: data.locations[index],
              data: Object.values(counts),
              borderColor: preferenceColors[index],
              backgroundColor: preferenceColors[index],
              borderWidth: 1,
              });
          });
  
          this.chartInstance = new Chart(ctx, {
              type: 'bar',
              data: chartData,
              options: {
              scales: {
              y: {
                  beginAtZero: true,
                  title: {
                      display: true,
                      text: 'Number of Vehicles',
                      font: {
                          weight: 'bold',
                      },
                  },
                  },
                  x: {
                  title: {
                      display: true,
                      text: 'Preference',
                      font: {
                          weight: 'bold',
                      },
                  },
                  },
              },
              plugins: {
                  title: {
                      display: true,
                      text: 'day = ' + id,
                      font: {
                          weight: 'bold',
                      },
                  },
              },
              },
          });
      }
  
      createChartUtilization(data, labels, id) {
          const ctx = document.getElementById('spaceUtilizationChart').getContext('2d');
          const preferenceColors = [
              'rgba(152, 192, 12, 1)',
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(75, 205, 193, 1)',
              'rgba(235, 156, 108, 1)',
          ];
  
          const preferenceBG = [
              'rgba(152, 192, 12, 0.1)',
              'rgba(255, 99, 132, 0.1)',
              'rgba(54, 162, 235, 0.1)',
              'rgba(255, 206, 86, 0.1)',
              'rgba(75, 205, 193, 0.1)',
              'rgba(235, 156, 108, 0.1)',
          ];

         

        //   console.log( data.map((item, index) => ({
        //     item.dataPoints.map((utilization) => 100 - utilization)
        // })));
          
          const chartData = {
              labels: data[0].labels,
              datasets: data.map((item, index) => ({
              label: labels[index],
              data: item.dataPoints.map((utilization) =>  (247-utilization)*0.47),
              backgroundColor: preferenceBG[index],
              borderColor: preferenceColors[index],
              borderWidth: 1,
              pointStyle: 'circle',
              pointRadius: 3,
              pointHoverRadius: 15,
              })),
          };
  
          new Chart(ctx, {
              type: 'line',
              data: chartData,
              options: {
              scales: {
                  y: {
                  beginAtZero: false,
                  min: 0,
                  max: 100,
                  ticks: {
                      callback: function (value) {
                      return value + '%';
                      },
                  },
                  title: {
                      display: true,
                      text: 'Space Utilization',
                      font: {
                          weight: 'bold',
                      },
                  },
                  font: {
                      weight: 'bold',
                  },
                  },
                  x: {
                  font: {
                      weight: 'bold',
                  },
                  title: {
                      display: true,
                      text: 'Time',
                      font: {
                          weight: 'bold',
                      },
                  },
                  },
              },
              plugins: {
                  title: {
                  display: true,
                  text: 'Parking Space and Utilization',
                  font: {
                      weight: 'bold',
                  },
                  },
              },
              },
          });
      }
  
      createChartCapacityDemands(data, labels, id) {
          const ctx = document.getElementById('CD_'+id).getContext('2d');
          const preferenceColors = [
              'rgba(152, 192, 12, 1)',
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(75, 205, 193, 1)',
              'rgba(235, 156, 108, 1)',
          ];
  
          const preferenceBG = [
              'rgba(152, 192, 12, 0.1)',
              'rgba(255, 99, 132, 0.1)',
              'rgba(54, 162, 235, 0.1)',
              'rgba(255, 206, 86, 0.1)',
              'rgba(75, 205, 193, 0.1)',
              'rgba(235, 156, 108, 0.1)',
          ];
  
          let styleGraph = ['bar', 'bar'];
          let graphTitle = ['Capacity', 'Demand'];
          
          const chartData = {
              labels: data[0].labels,
              datasets: data.map((item, index) => ({
              label: graphTitle[index],
              data: item.dataPoints.map((utilization) =>  utilization),
              backgroundColor: preferenceColors[index],
              borderColor: preferenceColors[index],
              borderWidth: 1,
              pointStyle: 'circle',
              pointRadius: 3,
              pointHoverRadius: 15,
              type: styleGraph[index],
              // stack: 'combined'
              })),
          };
  
          new Chart(ctx, {
              // type: 'line',
              data: chartData,
              options: {
              scales: {
                  y: {
                  beginAtZero: false,
                  min: 0,
                  max: 247,
                  ticks: {
                      callback: function (value) {
                      return value;
                      },
                  },
                  title: {
                      display: true,
                      text: 'Capacity',
                      font: {
                          weight: 'bold',
                      },
                  },
                  font: {
                      weight: 'bold',
                  },
                  },
                  x: {
                  font: {
                      weight: 'bold',
                  },
                  title: {
                      display: true,
                      text: 'Time',
                      font: {
                          weight: 'bold',
                      },
                  },
                  },
              },
              plugins: {
                  title: {
                  display: true,
                  text: 'day = ' + id,
                  font: {
                      weight: 'bold',
                  },
                  },
              },
              },
          });
      }
  
      groupDataByLocationAndPreference() {
          const vehicleCountByLocationAndPreference = {};
          
          this.data.forEach((location) => {
              if (!vehicleCountByLocationAndPreference[location.name]) {
              vehicleCountByLocationAndPreference[location.name] = {
                  total: 0,
                  preferences: {},
              };
              }
      
              location.slots.forEach((slot) => {
                  // if(location.name === "Ground" && slot)
                  // {
                  //     console.log(slot);
                  // }
              if (slot && slot.preference) {
                  if (!vehicleCountByLocationAndPreference[location.name].preferences[slot.preference]) {
                  vehicleCountByLocationAndPreference[location.name].preferences[slot.preference] = 0;
                  }
                  vehicleCountByLocationAndPreference[location.name].preferences[slot.preference]++;
              }
              });
          
              vehicleCountByLocationAndPreference[location.name].total += location.slots.length;
          });
          
          const locations = Object.keys(vehicleCountByLocationAndPreference);
          const counts = locations.map(location => vehicleCountByLocationAndPreference[location].total);
          const preferenceCounts = locations.map(location => {
              const preferenceObj = {};
              Object.entries(vehicleCountByLocationAndPreference[location].preferences).forEach(([preference, count]) => {
              preferenceObj[preference] = count;
              });
              return preferenceObj;
          });
          
          return { locations, counts, preferenceCounts };
      }
      
  
  }
  
  const createGraph = new GenerateGraph();
  let days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
  
  function generateChartsUtilization(data) {
    let results = [];
    let dataToPass = {
        dataPoints: [],
        labels: [],
    };
    let hours = ["06:00 AM", "07:00 AM", "08:00 AM", "09:00 AM", "10:00 AM", "11:00 AM", "12:00 PM", "01:00 PM", "02:00 PM", "03:00 PM", "04:00 PM", "05:00 PM", "06:00 PM", "07:00 PM", "08:00 PM", "09:00 PM"];
    
    let pass = {...dataToPass};
    data.forEach((result) => { 
      pass = {...dataToPass};
      pass.dataPoints = result;
      pass.labels = hours;
      results.push(pass);
    });
  
    createGraph.createChartUtilization(results, days, 0);
  }
  
  function groupVehicle(assignedVehicles)
  {
      let groupedData = assignedVehicles
      .flatMap(item => item.slots) // Flatten the array of slots
      .filter(slot => slot && slot.arrivalTime) // Filter out undefined slots and those without arrivalTime
      .sort((a, b) => {
          const aHour = parseInt(a.arrivalTime.split(':')[0]);
          const bHour = parseInt(b.arrivalTime.split(':')[0]);
          return aHour - bHour;
      })
      .reduce((groups, slot) => {
          let hour = parseInt(slot.arrivalTime.split(':')[0]);
          if(hour < 10)
          {
              hour = '0'+hour;
          }
          else
          {
              hour = hour.toString();
          }
          // If the 'groups' object doesn't have a property for the current hour, add it
          if (!groups[hour]) {
          groups[hour] = { hour, slots: [] };
          }
          // Sort slots by minute
          groups[hour].slots = groups[hour].slots.sort((a, b) => {
              const aMinute = parseInt(a.arrivalTime.split(':')[1]);
              const bMinute = parseInt(b.arrivalTime.split(':')[1]);
              return aMinute - bMinute;
          });
      
      
          // Add the slot to the corresponding hour's slots array
          groups[hour].slots.push(slot);
      
          // Return the 'groups' object for the next iteration
          return groups;
      }, {});
      return groupedData;
  }
  
  function getTotalSpacePerHour() {
      const space = result.flatMap(result => result.slots);
      return space.length;
  }
  
  pkd = {
      'Time': ['06:00 AM', '07:00 AM', '08:00 AM', '09:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '01:00 PM', '02:00 PM', '03:00 PM', '04:00 PM', '05:00 PM', '06:00 PM', '07:00 PM', '08:00 PM', '09:00 PM'],
      'AT': [53, 49, 26, 18, 5, 4, 2, 3, 2, 5, 7, 9, 6, 5, 0, 0],
          //   [23, 15, 19, 19, 6, 5, 4, 2, 5, 7, 9, 6, 6, 2, 0, 0],
      'DT': [0, 0, 0, 3, 4, 7, 15, 13, 11, 11, 16, 17, 13, 7, 5, 6]
  }
  
  function analyze() {
      const capacity = getTotalSpacePerHour();
      let data = pkd;
      let at = data.AT;
      let dt = data.DT;
  
      let utilization = {
          time: '',
          demand: 0,
          served: 0,
          unserved: 0,
          available: 0,
      }
      let perHourUtilization = [];
      let previous = 0;
      pkd.Time.forEach((item, index) => {
          let driver = {...utilization};
          let de = 0;
          
          if(index === 0)
          {
              driver.served = at[index];
              previous = capacity - at[index];
          }
          else
          {
              previous -= at[index]; 
              if(previous < 0)
              {
                  driver.unserved = (previous*-1);
                  driver.served = at[index]-driver.unserved;
                  previous = 0;
              }
              else
              {
                  driver.served = at[index];
              }
          }
  
          previous += dt[index];
          driver.time = item;
          driver.demand = at[index];
          driver.available = previous;
          perHourUtilization.push(driver);
          
          //convertify to string
          driver.demand = driver.demand.toString();
          driver.served = driver.served.toString();
          driver.unserved = driver.unserved.toString();
          driver.available = driver.available.toString();
      });
      console.log("Data for Utilization Rate");
      console.log(JSON.stringify(perHourUtilization));
  
      let availability = perHourUtilization.map((item) => item.demand);
      let total = availability.reduce((a, b) => parseFloat(a) + parseFloat(b), 0);
      console.log(total);
      let averageAvailabilityPerHour = perHourUtilization.map((item) => (((item.demand/total)*100)).toFixed(2));
      console.log(averageAvailabilityPerHour);
  
      let arrivalResult = {
          time: 0,
          percentage: 0
      }
      let arrivals = [];
  
      averageAvailabilityPerHour.forEach((item, index) => {
          let arrival = {...arrivalResult};
          arrival.time = pkd.Time[index];
          arrival.percentage = item;
          arrivals.push(arrival);
      });
  
      console.log(JSON.stringify(arrivals));
  }
  
  function formatData(data, day) {
      const specifiedHours = [6, 7, 8, 9, 10, 11, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9];
      let hourlyData = {};
      specifiedHours.forEach((hour) => {
          hourlyData[hour] = {
              demand: 0,
              served: 0,
              unserved: 0,
              available: 0,
          };
      });
      let arrivals = [];
      let departures = [];
  
      data.forEach((location) => {
          let totalArrivals = location.slots.flatMap((slot) => slot.arrivalTime);
          let totalDepartures = location.slots.flatMap((slot) => slot.departureTime);
          arrivals.push(totalArrivals);
          departures.push(totalDepartures);
      });
  
      let arrived = arrivals.flatMap((arrival) => arrival);
      let departed = departures.flatMap((departure) => departure);
  
      // Group By Hour and Sort By Minutes
      let groupedArrivals = {};
      arrived.forEach((arrival) => {
          let [hour, minutes] = arrival.split(':');
          hour = parseInt(hour) + arrival.split(' ')[1];
          minutes = parseInt(minutes);
          if (!groupedArrivals[hour]) {
              groupedArrivals[hour] = [];
          }
          groupedArrivals[hour].push(minutes);
      });
      for (let hour in groupedArrivals) {
          groupedArrivals[hour].sort((a, b) => a - b);
      }
      // Group By Hour and Sort By Minutes
      let groupedDepartures = {};
      departed.forEach((departure) => {
          let [hour, minutes] = departure.split(':');
          hour = parseInt(hour) + departure.split(' ')[1];
          minutes = parseInt(minutes);
          if (!groupedDepartures[hour]) {
              groupedDepartures[hour] = [];
          }
          groupedDepartures[hour].push(minutes);
      });
  
      for (let hour in groupedDepartures) {
          groupedDepartures[hour].sort((a, b) => a - b);
      }
  
      let reportAT = [];
      let reportDT = [];
      specifiedHours.forEach((hour, index) => {
          reportAT[index] = 0;
          reportDT[index] = 0;
      });
      
      for (let hour in groupedArrivals)
      {
          if(hour.includes('AM'))
          {
              let time = parseInt(hour.replace('AM', ''));
              
              reportAT[time-6] = groupedArrivals[hour].length;
          }
          else
          {
              let time = parseInt(hour.replace('PM', ''));
              let mappedTime = [6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
              if(time===12)
              {
                  reportAT[time-6] = groupedArrivals[hour].length;
              }
              else
              {
                  reportAT[mappedTime[time]] = groupedArrivals[hour].length;
              }
          }
      }
  
      for (let hour in groupedDepartures)
      {
          if(hour.includes('AM'))
          {
              let time = parseInt(hour.replace('AM', ''));
              reportDT[time-6] = groupedDepartures[hour].length;
          }
          else
          {
              let time = parseInt(hour.replace('PM', ''));
              let mappedTime = [6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
              if(time===12)
              {
                reportDT[time-6] = groupedDepartures[hour].length;
              }
              else
              {
                reportDT[mappedTime[time]] = groupedDepartures[hour].length;
              }
          }
      }
      utilizationRate(reportAT, day);
  }
  
  let dataAvailable = [];
  let dataDemands = [];
  
  function utilizationRate(at, day) {
      let capacity = getTotalSpacePerHour();
      if(day === 5)
      {
          capacity = Math.floor(capacity*.50)+Math.floor(capacity*.30);
      }
  
      let demands = [
          [27.32, 25.26, 13.40, 9.28, 2.58, 2.06, 1.03, 1.55, 1.03, 2.58, 3.61, 4.64, 3.09, 2.58, 0.00, 0.00],
          [35.58, 20.86, 14.72, 9.20, 0.00, 1.23, 3.07, 1.23, 2.45, 1.23, 4.29, 1.84, 3.68, 0.61, 0.00, 0.00],
          [38.22, 21.02, 24.84, 3.82, 0.00, 3.18, 1.91, 2.55, 0.64, 0.00, 1.91, 0.64, 0.64, 0.64, 0.00, 0.00],
          [32.43, 29.73, 18.92, 8.78, 2.03, 0.68, 1.35, 2.03, 0.00, 1.35, 0.68, 0.00, 2.03, 0.00, 0.00, 0.00],
          [32.34, 23.38, 17.91, 1.49, 2.99, 3.48, 2.49, 1.99, 0.50, 1.99, 1.00, 2.99, 3.98, 3.48, 0.00, 0.00],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
      ];
  
      let avgDemand = demands[day];
  
      at.forEach((item, index) => {
          if(item)
          {
              at[index] = Math.floor(capacity*(avgDemand[index]/100))+item;
          }
      });
  
      let dt = [0,0,0,0,4,4,2,3,4,9,18,21,20,21,12,10];
  
      let utilization = {
          time: '',
          demand: 0,
          served: 0,
          unserved: 0,
          available: 0,
      }
      let perHourUtilization = [];
      let previous = 0;
      let availables = [];
      let demand = [];
      pkd.Time.forEach((item, index) => {
          let driver = {...utilization};
          let de = 0;
          
          if(index === 0)
          {
              driver.served = at[index];
              previous = capacity - at[index];
          }
          else
          {
              previous -= at[index]; 
              if(previous < 0)
              {
                  driver.unserved = (previous*-1);
                  driver.served = at[index]-driver.unserved;
                  previous = 0;
              }
              else
              {
                  driver.served = at[index];
              }
          }
  
          previous += dt[index];
          driver.time = item;
          driver.demand = at[index];
          driver.available = previous;
          
          perHourUtilization.push(driver);
  
          driver.demand = driver.demand.toString();
          driver.served = driver.served.toString();
          driver.unserved = driver.unserved.toString();
          driver.available = driver.available.toString();
          
          availables.push(driver.available);
          demand.push(driver.demand);
      });
  
      let availability = perHourUtilization.map((item) => item.demand);
      let total = availability.reduce((a, b) => parseFloat(a) + parseFloat(b), 0);
      let averageAvailabilityPerHour = perHourUtilization.map((item) => (((item.demand/total)*100)).toFixed(2));
  
      let arrivalResult = {
          time: 0,
          percentage: 0
      }
      let arrivals = [];
  
      averageAvailabilityPerHour.forEach((item, index) => {
          let arrival = {...arrivalResult};
          arrival.time = pkd.Time[index];
          arrival.percentage = item;
          arrivals.push(arrival);
      });
  
      dataAvailable.push(availables);
      dataDemands.push(demand);
  }
  
  function generateSpaceUtilization() {
      days.forEach((day) => {
          (formatData(zones.filter((zone) => zone.day === day).flatMap((zone) => zone.data), days.indexOf(day)));
      });
  
      generateChartsUtilization(dataAvailable);
  }
  
//   generateSpaceUtilization();
  
  //For Parking Behavior and Assignment
  function generateBehaviorChart() {
    let results = [];
    days.forEach((day) => {
      result = zones.filter((zone) => zone.day === day).flatMap((zone) => zone.data);
      createGraph.setData(result);
      let utilizationChart = createGraph.groupDataByLocationAndPreference();
      createGraph.createChart(utilizationChart, day);
    });
  }
  
//   generateBehaviorChart();
  
function generateCapacityDemandChart() {
    // days.forEach((day) => {
    //     (formatData(zones.filter((zone) => zone.day === day).flatMap((zone) => zone.data), days.indexOf(day)));
        
    //     // dataAvailable = [];
    //     // dataDemands = [];
    // });

    // generateCapacityDemand(dataAvailable, dataDemands);

    let utilizationsData = [];

    let dataFormat = {
        dataPoints: [],
        labels: [],
    };

    let pass = {...dataFormat};
    let pass2 = {...dataFormat};



    // let data1 = [128,63,3,0,3,5,8,25,38,50,59,71,82,91,94,128]; // main current
    // let data1 = [213,104,2,0,6,8,15,43,65,85,99,119,138,153,158,213];
    // let data1 = [213,104,2,0,6,8,15,43,65,85,99,119,138,153,158,213]; // basak current monday
    
    let data1 = [247,121,4,0,7,9,17,49,74,96,112,135,155,173,179,247]; // basak rt monday
    // let data2 = [126,117,62,43,11,9,5,7,5,11,16,21,14,11,0,0] //basak rt monday


    pass.labels = pkd.Time;
    pass.dataPoints = data1;

    utilizationsData.push(pass);

    // let data2 = [65,60,31,22,5,5,2,3,2,5,8,10,7,5,0,0];
    // let data2 = [109,102,53,36,9,7,3,5,3,9,14,17,12,9,0,0];
    // let data2 = [69,81,31,3,5,12,12,3,10,22,67,79,1,0,0,0]; // basak current monday
    let data2 = [126,117,62,43,11,9,5,7,5,11,16,21,14,11,0,0] //basak rt monday

    pass2.labels = pkd.Time;
    pass2.dataPoints = data2;


    
    createGraph.createChartCapacityDemands([pass, pass2], days, "Monday");
    
    // data1 = [213,144,116,119,116,121,147,188,197,204,199,217,265,370,412,424,213];
    // data2 = [69,81,31,3,5,12,12,3,10,22,67,79,1,0,0,0];

    // data1 = [213,70,0,0,6,14,23,42,64,78,96,114,143,156,168,213]; // basak current
    // data2 = [143,83,59,36,0,5,12,5,9,5,16,7,14,2,0,0]; //basak current

    data1 = [247,81,0,0,7,16,28,51,78,95,117,136,169,185,199,247];
    data2 = [166,98,68,43,0,5,14,5,10,5,20,8,16,3,0,0];

    pass = {...dataFormat};
    pass2 = {...dataFormat};

    pass.labels = pkd.Time;
    pass.dataPoints = data1;

    utilizationsData.push(pass);

    pass2.labels = pkd.Time;
    pass2.dataPoints = data2;

    createGraph.createChartCapacityDemands([pass, pass2], days, "Tuesday");


    // //basak current
    // data1 = [213,59,0,0,6,14,16,40,58,79,102,129,163,188,200,213]
    // data2 = [154,84,100,14,0,12,7,9,2,0,7,2,2,2,0,0]

    data1 = [247,69,0,0,7,16,19,48,69,93,120,151,189,218,232,247];
    data2 = [178,98,116,16,0,14,8,11,3,0,8,3,3,3,0,0];

    pass = {...dataFormat};
    pass2 = {...dataFormat};

    

    pass.labels = pkd.Time;
    pass.dataPoints = data1;

    utilizationsData.push(pass);

    pass2.labels = pkd.Time;
    pass2.dataPoints = data2;

    createGraph.createChartCapacityDemands([pass, pass2], days, "Wednesday");

    // //basak current
    // data1= [213,83,0,0,6,8,20,46,66,89,107,139,175,195,209,213];
    // data2= [130,119,76,34,7,2,5,7,0,5,2,0,7,0,0,0];

    data1 = [247,95,0,0,7,9,23,55,78,105,127,163,204,227,244,247];
    data2 = [152,138,88,41,9,3,5,9,0,5,3,0,9,0,0,0];

    pass = {...dataFormat};
    pass2 = {...dataFormat};

    

    pass.labels = pkd.Time;
    pass.dataPoints = data1;


    utilizationsData.push(pass);

    pass2.labels = pkd.Time;
    pass2.dataPoints = data2;

    createGraph.createChartCapacityDemands([pass, pass2], days, "Thursday");

    // data1= [213,83,0,0,6,8,14,36,56,78,94,125,150,163,165,213]
    // data2= [130,93,71,5,11,12,9,7,1,7,3,11,14,12,0,0];

    data1 = [247,97,0,0,7,9,17,44,68,94,113,149,178,193,195,247];
    data2 = [150,109,83,6,12,15,10,8,1,8,3,12,17,15,0,0];

    pass = {...dataFormat};
    pass2 = {...dataFormat};

    

    pass.labels = pkd.Time;
    pass.dataPoints = data1;

    utilizationsData.push(pass);

    pass2.labels = pkd.Time;
    pass2.dataPoints = data2;

    createGraph.createChartCapacityDemands([pass, pass2], days, "Friday");

    // data1 = [213,71,0,0,6,8,14,40,58,81,104,133,169,196,210,213];

            // [6,   7,  8,  9,  10, 11, 12, 1, 2, 3, 4, 5,6 ,   7   8,9]
    // data1 = [213,144,116,119,121,147,188,197,204,199,200,202,208,206,210,213];
    // data1 = [127,42,0,0,3,5,8,24,35,49,63,80,101,117,125,131,127]

    // data2= [85,43,36,22,20,22,3,5,0,0,3,0,0,0,0,0]

    // data1= [213,83,0,0,6,8,14,36,56,78,94,125,150,163,165,213]
    // data2= [130,93,71,5,11,12,9,7,1,7,3,11,14,12,0,0];

    data1 = [247,83,1,0,7,9,17,49,71,98,125,159,200,232,240,247];
    data2 = [164,82,71,43,38,43,5,10,0,0,5,0,0,0,0,0];

    pass = {...dataFormat};
    pass2 = {...dataFormat};

    pass.labels = pkd.Time;
    pass.dataPoints = data1;

    utilizationsData.push(pass);

    pass2.labels = pkd.Time;
    pass2.dataPoints = data2;

    createGraph.createChartCapacityDemands([pass, pass2], days, "Saturday");

    createGraph.createChartUtilization(utilizationsData, days);

    console.log("UTILIZATIONS GRAPHS");
    console.log(utilizationsData);

  }
  
  generateCapacityDemandChart();
  
function generateCapacityDemand(data, dmd) {
    let results = [];
    let resultsdmd = [];
    let dataToPass = {
        dataPoints: [],
        labels: [],
    };
    
    let hours = [
        "06:00 AM", "07:00 AM", "08:00 AM", "09:00 AM", "10:00 AM", 
        "11:00 AM", "12:00 PM", "01:00 PM", "02:00 PM", "03:00 PM", 
        "04:00 PM", "05:00 PM", "06:00 PM", "07:00 PM", "08:00 PM", 
        "09:00 PM"
    ];

    let pass = {...dataToPass};
    data.forEach((result) => { 
        pass = {...dataToPass};
        pass.dataPoints = result;
        pass.labels = hours;
        results.push(pass);
    });
  
    dmd.forEach((result, index) => { 
        pass = {...dataToPass};
        pass.dataPoints = result,
        pass.labels = hours;
        resultsdmd.push(pass);
    });
  
    days.forEach((day, dayVal) => {
      let adjust = [];
  
      results[dayVal].dataPoints.forEach((item, index) =>
      {
          if(index === 0)
          {
              adjust[index] = getTotalSpacePerHour().toString();
          }
          else
          {
              adjust[index] = results[dayVal].dataPoints[index-1]; 
          }
      });
      results[dayVal].dataPoints = adjust;
      
      createGraph.createChartCapacityDemands([results[dayVal], resultsdmd[dayVal]], days, day);
    });
  }
  
  const locationSelect = document.getElementById("location");
  const shapeRadios = document.getElementsByName("shape");
  const startButton = document.getElementById("start-button");
  
  // Set up event listeners for the dropdown and radio buttons
  locationSelect.addEventListener("change", () => {
    console.log(`Location selected: ${locationSelect.value}`);
  });
  
  for (const radio of shapeRadios) {
    radio.addEventListener("change", () => {
      console.log(`Shape selected: ${radio.value}`);
    });
  }
  
  // Set up event listener for the start button
  startButton.addEventListener("click", () => {
    let selectedShape = "";
  
    const selectedLocation = locationSelect.value;
  
    if(startButton.textContent === "Start")
    {
      startButton.textContent = "Stop";
      startButton.style.backgroundColor = "red";
  
      for (const radio of shapeRadios) {
        if (radio.checked) {
          selectedShape = radio.value;
          //start the operation
  
          break;
        }
      }
  
      console.log(`Starting operation for location ${selectedLocation} and shape ${selectedShape}`);
    }
    else
    {
      startButton.textContent = "Start";
      startButton.style.backgroundColor = "green";
    }  
  });